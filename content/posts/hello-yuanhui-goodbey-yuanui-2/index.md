---
title: "你好元慧，再见元慧2"
subtitle: "拥抱新生活"
date: 2024-10-21T15:19:12+08:00
lastmod: 2024-10-21T15:19:12+08:00
draft: false
authors: [小於]
description: "十二年过去工作的总结和未来自由职业的规划。"

tags: []
categories: []
series: []

hiddenFromHomePage: false
hiddenFromSearch: false

featuredImage: "IMG_4253.JPG"
featuredImagePreview: "IMG_4253_preview.JPG"

toc:
  enable: true
math:
  enable: false
lightgallery: true
license: ""
---



2011年底离开阿里出来创业的时候我写过一篇[《你好元慧，再见元慧》](posts/hello-yuanhui-goodbye-yuanhui/)。那是我对实习工在阿里工作的总结。最近公司裁员，名单上有我，由于我在小电的花名沿用了元慧，那么时候写一篇《你好元慧，再见元慧2》了。

<!--more-->

## 离职

2024年10月9日上午，突然HR在钉钉上和我说去一下一个会议室。看到HR和我的主管一起坐在那里我已经猜到了大概。

由于这几年的大环境，也经历过几次裁员。但是之前都是坐在HR旁边的那个人。这次第一次坐在对面，一开始还是有点懵的。毕竟确实非常突然，之前完全没有任何迹象。但是半分钟后也就坦然了，毕竟这两年时不时冒出一些想法想要自己做点事情的冲动，也时不时和老婆和朋友讨论离职后做点什么。每次都被现实环境按下去了提离职的冲动。整个过程也就经历了几分钟，流程化的确定交接日期，和补偿方案，一切都很顺利。

不过我内心里面有一点是明确的，不再找下一份工作了。原因有下面几点：

1. 行业的增长空间有限，除了内卷，对于个人看不到希望。这也造成了想要通过薪资实现财务自由，已经很难了。至少看得见的几年内，向上一波通过股票期权来实现巨大的收益和财务自由的机会几乎没有了。
2. 家庭和自己人生阶段的关系。安安开始上小学，两个互联网人的双职工家庭，确实有很多掣肘的地方。陪伴时间太少了。
3. 我是一个需要有不断有反馈的人。这几年的工作经历，现在的公司环境中能给到你的反馈太少了。不管是业务的还是我自己关心的团队效率和基础建设。
4. AI出现后，会导致不同的以业务为导向的公司，业务层面对程序员的需求会降低。在AI辅助作为行业标配加上内卷必然会导致公司对程序员在效率上会翻倍的。
5. 自己有一身本领，不去开创一项自己的事业浪费了。

## 工作回顾

### 求攻略创业（11年11月-16年4月）

因为认定泉心这个人，所以他叫我一起出来创业的时候我稍微犹豫了一下也就从阿里出来了。虽然当时，在实习9个月转正后才5个月。

但是创业这段经历真的是人生中宝贵的几年。虽然辛苦，但是成长了很多，也经历了很多。 我们在湖畔花园租了个房子。三对夫妻，加上泉心全身心的投入到出境游的事业中。我们考虑的当时出境游网络的问题，把孤独星球的模式搬到了手机上，提供了离线攻略app。每开始一个新的目的地，我们都会一起讨论攻略的权威性。我们提供100元为客户提供私人行程定制的服务，同时在客户出行的时候提供在线客户，帮助客户解决当地的地接问题和接受各种咨询。在2013年的时候，这项服务确实解决了很多顾客第一次出国门的顾虑，和没有时间做攻略的问题。我们一起做饭，一起旅游，一起去上天竺法系讲寺吃斋，心血来潮下午不上班集体去云栖竹径、去西山徒步。要不是泉心14年初喝酒离世的变故，不知道求攻略团队现在是什么样。至今我家的wifi热点名称和密码还是求攻略时期公司的wifi。我家目前互动最频繁的社交圈也是当时的创业伙伴。

变故后，团队和南瓜子他们合并拿了投资。同时运营求攻略和世界游两个品牌。“求攻略”做攻略引流，世界游做旅行产品商城。当时我们还找了不少目的地当地的地接和达人做社区。我也经历了从6个人的团队变成35人的团队，再到后来的逐渐减员解散。这也是14-16年间“万众创业”感召下很多公司的命运。

### 二维火

创业结束后，找了几个公司面试。最后降薪选择了二维火。由于泉心的变故，本来都不考虑二维火。通过榆钱和胶圈的介绍，第一次去肉山办公室的时候遇到了七喜和火烧，再加上肉山对业务的介绍，最终选择了这里。我想最主要的原因还是我希望做一些能做一些让世界变得更加方便的事情。无疑16年的扫码点餐是一个。

在二维火遇到的第一个挑战是在旧工程的基础上做一个全新业务的App。时间比较紧张，加上原有团队的技术现状，做一个新的App不太现实。好在项目如期交付了，结果也算满意。

接下来就是扩充团队，和对旧有工程的改造。原来的iOS App由于是前端硬写出来的。页面切换甚至没有用到navigation controller，所有的页面全部添加到一个view上面。需要哪个功能就把其他的隐藏，把需要的显示出来。当时iOS 官方正好在向平面视图转变，也出现了多个尺寸的iPhone，需要做动态化布局。我们制定了可行的路线，和分工。跟着项目通过一个多月的努力终于在apple大限前把App改造完成（如果不能做到页面动态化兼容不能提交新的版本）。同时引入了cocopods，把这个工程模块化拆开，可以按照业务可插拔构建，不同的模块划分了各自的负责人。经过一番改造和升级后，团队和业务也渐渐稳定。基本上每个人都可以自己完成自己负责的业务。我就可以把自己摘出来完成自己感兴趣的以及思考更高维度的事情了。

当时，二维火业务增长比较快。我们团队人数也不断扩充，达到了android iOS两个端20多人的规模。原有的客户端集成环境是在一台mac pro 上跑了一个xcode server，而且是C端和B端两个团队共用。xcode server只能同时有一个项目可以打包每次发布就要排队非常影响效率和心情。然后我申请了两台mac mini。用jenkins 从零开始构建了iOS和android的集成环境。整个构建系统也是随着团队业务不断演进的。随着分包数量的不断增多，每次发布都会遇到包依赖和先后发布的问题。于是我们又自己开发了一个给客户端用的包管理和发布系统。

由于我在的团队负责B端业务，渐渐我意识到，我们的页面长的都差不多。不同的页面无非就是一些组件的集合加上一些动作。然后我们为我们的业务开发了一套动态化方案，现在流行的说法叫“低代码/无代码“平台。在这套方案中，我们首先拉着产品规整了我们产品中现有的组件和它的属性，然后我们通过json描述了这套组件。接下来，我们整理了页面用到的action，比如请求Api，跳转页面，等等。我们还为这个action设计了一个引擎，有自己的DSL和解释器。这也我们可以对服务端给的Api和组件的属性做双向绑定。最后我们还做了一个前端页面，可以通过拖拽的形式，铺排一个页面，定义组件间的联动和各种各样的动作，最后可以生成json上线就有相应的业务功能了。这个系统基本上可以覆盖80%的日常业务需求，也可以给到产品和视觉做设计。

在二维火的最后一段时间，商家端业务的服务端也给到了我这里。我的团队人数最多的时候到了35人。

让我最高兴的是，我们团队大多数人是我招进来的，工作经验都有限，有应届生。在出去的时候都能拿到很不错的大厂offer。

在二维火期间也完成了人生很多重要的阶段。17年买房装修，18年生下安安。

到了18年贸易战开打，资本市场遇冷，二维火发展也遇到了瓶颈。有点着急开始找各种热门的方向和餐饮结合都没有啥起色。

### 小电

19年年底，和肉山带头核心团队一起到小电工作。面试的时候大哥也说了，不光在小电，乃至整个行业对客户端的需求量会减少，后面就是大前端。问我有什么打算。对于我个人来说，其实给自己没有什么工种的限定。到了小电最大的原因还是人。和一群熟悉的靠谱的同事，不需要勾心斗角，对于整个团队靠自己的能力补位就是了。而且18年住进新家后，我对智能家居和ioT领域很感兴趣。希望在小电在ioT领域有所发挥。

我是在还没有进小电的时候买了USB功率计。我带着这个功率计进的小电，当时作为一个消费者，我觉得充电功率直接影响了充电的体验，那几年各种快充协议也逐渐进入了人们的视野。我希望可以在小电推动快充的落地。虽然充满电的时间变短，是和充电宝公司的利益相违背的。但是我觉得可以用不同的定价策略来解决这个问题。但是事与愿违，公司毕竟是受现有的环境和商业利益驱动的。直到24年公司才把快充提上日程。

在小电我同样构建了端侧的持续集成系统，并进行了优化。为了部署sentry的分布式架构，学习了k8s和helm，并成功将它部署到了openshift上。

在小电记忆深刻的有三件事，两个线上故障和一个好友离世。

21年七月1日建党100周年，前端cdn上文件覆盖，导致部分地区用户页面问题，由于CDN的回源机制，出现问题的有地区性和随机性。杭州一直是好的。最终我想到了通过代理到有问题的地方，来复现问题找到问题的地方。

22年9月30日-10月1日国庆节，前端的一个js引用的是google地址。由于加载机制也有问题。导致了某些地区的用户页面出现问题。

23年年底，元良因为流感离开了我们。

在小电也带过创新业务的技术团队。这个阶段正好疫情，露营开始火爆。正好我这个阶段开始玩露营和装备。书颖给我配了一个摄影师，我做up主。正在爆了一条视频后，粉丝数开始爬升的时候，公司把这个业务砍了。

这里还有说的是，22年底开始注意健康开始骑行后，开始自己带饭。也加入了自己带饭的小饭团。每天中午大家一起分享自己带的饭，还是很开心的。

## 人生的下半场

虽然年轻的时候很讨厌“人生的下半场”这个词。但是当自己真正到了这个阶段的时候还是要勇敢面对，直面问题才能解决问题。

个体还是抵抗不了时代的车轮和经济的周期的。只能顺应这个时代，找到自己的位置。

### 方向

好在几年年前，我已经开始考虑这个事情也跟老婆有几次深入的讨论。尤其是两年前随着露营的火爆和我个人对自动化系统、园艺、农业的兴趣，我出去自己开一个农场。但是考虑的经济现状，和盘算农场初期对资本投入实在太大，就一直没有真正行动。

去年，我改造了萧山的院子。实现我现在称其为“花园大脑”的智能生态系统。整个系统收集雨水浇灌，用太阳能储能提供能源，做到了自循环。系统可以实现如下功能：

1. 收集雨水到雨水桶
2. 实时监控雨水桶的水位情况，如果太高，启动水泵排水
3. 太阳能储能
4. 收集土壤指标包括湿度，肥力，温度，光照
5. 根据土壤情况自动浇水
6. 收集堆肥桶桶内温度

起初我用一个esp32的开发版来实现控制系统。实现完成后觉得跳线太丑而且不稳定，本来开发版就是用来实现想法做原型。后来业余时间研究了pcb板的设计，嘉立创和捷配每个月各有两张免费的打样券，经过十几次的打样，和中间看了不少电路设计的视频和资料，借助AI终于实现了堆肥桶的温度定时上传的边缘计算硬件，后面把这个“花园大脑”也实现了。


{{< image src="./IMG_0453.jpeg" height="100%" linked=true >}}

既然实现了硬件和软件，本着“既然做了就尽量最好”的原则，我又买了3D打印机，给这个系统定制一个外壳。

从这以后一发而不可收拾，仿佛打开了新世界的大门。b站上有各种网友做的开源硬件，我开始一一复刻。

1. 桌面吸烟器，用来吸走并过滤焊接的烟雾保护我的肺
2. 10万转暴力风扇
3. 服务器端缘改造的桌面电源
4. 桌面可调电源
5. 电池内阻仪
6. 像素钟
7. ……

我乐在其中。安安在幼儿园上了电子百拼的兴趣班，已经知道了基本的电路原理。我为了让她知道学了电路能干嘛，和爸爸做的pcb有什么用。于是和安安一起用嘉立创的EDA画了一个最简单的开关控制灯珠的电路图和pcb图的设计，并且下单到拿到实物。这个过程中我们还一起选了开关的类型，并且根据电路图型号在淘宝上购买。最后拿到电路板后进行焊接。安安目前还很喜欢这个小灯。

后来我觉得像素钟是个不错的项目，又和安安一起做了像素钟。

在朋友圈分享了一些过程。有一些朋友留言说出来开课吧，带带别的小朋友。这正好也是我的兴趣点。

于是第二个方向也就渐渐清晰了。**我想要把我身上对新鲜事物保持好奇，并且一步一步将其实现的能力交给小朋友甚至是大朋友。** 包括但不限于：

1. 编程
2. 智能家居/自动化系统
3. Homelab（NAS）搭建
4. 园艺
5. 3D打印
6. 铝型材做家具
7. 组装/修自行车

### 安排

{{< figure src="./截屏2024-10-21 14.47.49 1.png" class="floatleft" width="200px" >}}

冥冥之中自有安排吧，离职前的一段时间，在家开辟了一个工作工种空间，1.8m的升降桌、显示器和一把人体工学椅，上面配备了做各种创意产品的基础工具。Homelab也做了全面升级，家里的网络全屋升级到了2.5G。这块区域正好成了我现在在家办公的空间。

正好就在最近，小姑把她的鱼缸和整套设备送给了我。这段时间用铝型材做了一个鱼缸架，和家人一起把鱼缸景观造好，在我离职过渡的这段时间真的很解压。

在家工作了一个礼拜，自制力很重要。我对自己近段时间的安排是早上6:40起床遛“蛋蛋”。7点回家叫安安起床做早饭，送安安上学后回家时8点。接下来的8点到下午4点是我给自己的工作时间。4点接安安放学，接下来就是陪伴安安的时间。做作业，跳绳，送兴趣班，玩桌游做晚饭。等老婆回家后，我可以出去骑一会儿车，或者再工作一会儿。

在家办公的第一天我就在obsidian上，建立了LifeOS笔记系统。把脑子里要做的事情清空写到了TODO List里。




用番茄工作法，静下心来完成每一件手头的工作。

之前坐班积累的素材没有心力剪成视频，接下来会持续不断产出。每周回顾下这周的进展做个总结，并安排一下下周的工作。

周四下午去玉鸟集和自由职业者们交流。

通过Beancount复式记账工具，来记录生活和用户创业的收支情况。

我计划两个月拜托镜头恐惧，能在镜头前自然表达。

## 最后

第一周除开一些琐事和见朋友，几乎都在逼自己把这篇blog写完。这是对我前面十二年工作的总结，过去的成就和失败都已过去。

新的生活已经开始，重点是能按照自己的计划和节奏，做自己想做的事情。
